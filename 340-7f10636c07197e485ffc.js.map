{"version":3,"file":"340-7f10636c07197e485ffc.js","mappings":"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","sources":["webpack://addict-gym.com/../../node_modules/@fullcalendar/core/index.js","webpack://addict-gym.com/../../node_modules/@fullcalendar/daygrid/internal.js","webpack://addict-gym.com/../../node_modules/@fullcalendar/daygrid/index.js","webpack://addict-gym.com/../../node_modules/@fullcalendar/interaction/index.js","webpack://addict-gym.com/../../node_modules/@fullcalendar/google-calendar/index.js","webpack://addict-gym.com/./src/components/sections/booking.jsx","webpack://addict-gym.com/../../node_modules/preact/hooks/dist/hooks.module.js","webpack://addict-gym.com/../../node_modules/preact/compat/dist/compat.module.js","webpack://addict-gym.com/../../node_modules/preact/dist/preact.module.js"],"sourcesContent":["import { i as injectStyles, m as mergeProps, g as guid, a as isArraysEqual, T as Theme, b as mapHash, V as ViewContextType, C as ContentContainer, c as buildViewClassNames, d as greatestDurationDenominator, e as createDuration, B as BASE_OPTION_DEFAULTS, f as arrayToHash, h as filterHash, j as buildEventSourceRefiners, p as parseEventSource, k as formatWithOrdinals, u as unpromisify, l as buildRangeApiWithTimeZone, n as identity, r as requestJson, s as subtractDurations, o as intersectRanges, q as startOfDay, t as addDays, v as hashValuesToArray, w as buildEventApis, D as DelayedRunner, x as createFormatter, y as diffWholeDays, z as memoize, A as memoizeObjArg, E as isPropsEqual, F as Emitter, G as getInitialDate, H as rangeContainsMarker, I as createEmptyEventStore, J as reduceCurrentDate, K as reduceEventStore, L as rezoneEventStoreDates, M as mergeRawOptions, N as BASE_OPTION_REFINERS, O as CALENDAR_LISTENER_REFINERS, P as CALENDAR_OPTION_REFINERS, Q as COMPLEX_OPTION_COMPARATORS, R as VIEW_OPTION_REFINERS, S as DateEnv, U as DateProfileGenerator, W as createEventUi, X as parseBusinessHours, Y as BaseComponent, Z as setRef, _ as Interaction, $ as getElSeg, a0 as elementClosest, a1 as EventImpl, a2 as listenBySelector, a3 as listenToHoverBySelector, a4 as PureComponent, a5 as buildViewContext, a6 as getUniqueDomId, a7 as parseInteractionSettings, a8 as interactionSettingsStore, a9 as getNow, aa as CalendarImpl, ab as flushSync, ac as CalendarRoot, ad as RenderId, ae as ensureElHasStyles, af as applyStyleProp, ag as sliceEventStore } from './internal-common.js';\nexport { ah as JsonRequestError } from './internal-common.js';\nimport { createElement, createRef, Fragment, render } from 'preact';\nimport 'preact/compat';\n\nvar css_248z = \":root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-moz-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\\\e900\\\"}.fc-icon-chevron-right:before{content:\\\"\\\\e901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\\\e902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\\\e903\\\"}.fc-icon-minus-square:before{content:\\\"\\\\e904\\\"}.fc-icon-plus-square:before{content:\\\"\\\\e905\\\"}.fc-icon-x:before{content:\\\"\\\\e906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}\";\ninjectStyles(css_248z);\n\nconst globalLocales = [];\n\nconst MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today(buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : `This ${buttonText}`;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n        return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    let allRawLocales = globalLocales.concat(explicitRawLocales);\n    let rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (let rawLocale of allRawLocales) {\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    let codes = [].concat(codeArg || []); // will convert to array\n    let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (let i = 0; i < codes.length; i += 1) {\n        let parts = codes[i].toLocaleLowerCase().split('-');\n        for (let j = parts.length; j > 0; j -= 1) {\n            let simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    let { week } = merged;\n    delete merged.week;\n    return {\n        codeArg,\n        codes,\n        week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        name: input.name,\n        premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    let currentPluginIds = {};\n    let hooks = {\n        premiumReleaseDate: undefined,\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (let def of defs) {\n            const pluginName = def.name;\n            const currentId = currentPluginIds[pluginName];\n            if (currentId === undefined) {\n                currentPluginIds[pluginName] = def.id;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n            else if (currentId !== def.id) {\n                // different ID than the one already added\n                console.warn(`Duplicate plugin '${pluginName}'`);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    let currentOverrideDefs = [];\n    let currentGlobalDefs = [];\n    let currentHooks;\n    return (overrideDefs, globalDefs) => {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\nfunction compareOptionalDates(date0, date1) {\n    if (date0 === undefined) {\n        return date1;\n    }\n    if (date1 === undefined) {\n        return date0;\n    }\n    return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n}\n\nclass StandardTheme extends Theme {\n}\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    let hash = {};\n    let viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    let defaultConfig = defaultConfigs[viewType];\n    let overrideConfig = overrideConfigs[viewType];\n    let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n    let theComponent = queryProp('component');\n    let superType = queryProp('superType');\n    let superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    let rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    let { component } = rawOptions;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions, // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return (viewProps) => (createElement(ViewContextType.Consumer, null, (context) => (createElement(ContentContainer, { elTag: \"div\", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: undefined, customGenerator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }))));\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let defaultConfigs = parseViewConfigs(defaultInputs);\n    let overrideConfigs = parseViewConfigs(optionOverrides.views);\n    let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    let duration = null;\n    let durationUnit = '';\n    let singleUnit = '';\n    let singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            let denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    let queryButtonText = (optionsSubset) => {\n        let buttonTextMap = optionsSubset.buttonText || {};\n        let buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    let queryButtonTitle = (optionsSubset) => {\n        let buttonHints = optionsSubset.buttonHints || {};\n        let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration,\n        durationUnit,\n        singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    let json = JSON.stringify(durationInput);\n    let res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    switch (action.type) {\n        case 'SET_OPTION':\n            return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    let dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (let sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    let hash = {};\n    for (let source of sources) {\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    let nextSources = {};\n    for (let sourceId in prevSources) {\n        let source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    let { options, calendarApi } = context;\n    let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    let fetchId = guid();\n    sourceDef.fetch({\n        eventSource,\n        range: fetchRange,\n        isRefetch,\n        context,\n    }, (res) => {\n        let { rawEvents } = res;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            rawEvents,\n        });\n    }, (error) => {\n        let errorHandled = false;\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n            errorHandled = true;\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n            errorHandled = true;\n        }\n        if (!errorHandled) {\n            console.warn(error.message, error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            error,\n        });\n    });\n    return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    let eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n    let refiners = buildEventSourceRefiners(context);\n    let rawSources = [].concat(rawOptions.eventSources || []);\n    let sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (let rawSource of rawSources) {\n        let source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    let newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    let newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header, footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let sectionWidgets = {};\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    for (let sectionName in sectionStrHash) {\n        let sectionStr = sectionStrHash[sectionName];\n        let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push(...sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets, viewsWithButtons, hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    let isRtl = calendarOptions.direction === 'rtl';\n    let calendarCustomButtons = calendarOptions.customButtons || {};\n    let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    let calendarButtonText = calendarOptions.buttonText || {};\n    let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    let calendarButtonHints = calendarOptions.buttonHints || {};\n    let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName };\n        }\n        let customButtonProps;\n        let viewSpec;\n        let buttonClick;\n        let buttonIcon; // only one of these will be set\n        let buttonText; // \"\n        let buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = (ev) => {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = () => {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            let textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = () => {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]);\n            }\n        }\n        return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n    })));\n    return { widgets, viewsWithButtons, hasTitle };\n}\n\n// always represents the current view. otherwise, it'd need to change value every time date changes\nclass ViewImpl {\n    constructor(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    get calendar() {\n        return this.getCurrentData().calendarApi;\n    }\n    get title() {\n        return this.getCurrentData().viewTitle;\n    }\n    get activeStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n    }\n    get activeEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n    }\n    get currentStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n    }\n    get currentEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n    }\n    getOption(name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    }\n}\n\nlet eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta(refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback) {\n        successCallback({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nconst arrayEventSourcePlugin = createPlugin({\n    name: 'array-event-source',\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nlet eventSourceDef$1 = {\n    parseMeta(refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { dateEnv } = arg.context;\n        const func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);\n    },\n};\nconst funcEventSourcePlugin = createPlugin({\n    name: 'func-event-source',\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nlet eventSourceDef = {\n    parseMeta(refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { meta } = arg.eventSource;\n        const requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {\n            successCallback({ rawEvents, response });\n        }, errorCallback);\n    },\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n    name: 'json-event-source',\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    let { dateEnv, options } = context;\n    let startParam;\n    let endParam;\n    let timeZoneParam;\n    let customRequestParams;\n    let params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    Object.assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nconst SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nlet recurring = {\n    parse(refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            let recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            let duration;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand(typeData, framingRange, dateEnv) {\n        let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n    name: 'simple-recurring-event',\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    let dayMarker = startOfDay(framingRange.start);\n    let endMarker = framingRange.end;\n    let instanceStarts = [];\n    while (dayMarker < endMarker) {\n        let instanceStart;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nconst changeHandlerPlugin = createPlugin({\n    name: 'change-handler',\n    optionChangeHandlers: {\n        events(events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    if (unfoundSources.length === 1 &&\n        inputs.length === 1 &&\n        Array.isArray(unfoundSources[0]._raw) &&\n        Array.isArray(inputs[0])) {\n        context.dispatch({\n            type: 'RESET_RAW_EVENTS',\n            sourceId: unfoundSources[0].sourceId,\n            rawEvents: inputs[0],\n        });\n        return;\n    }\n    let newInputs = [];\n    for (let input of inputs) {\n        let inputFound = false;\n        for (let i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (let unfoundSource of unfoundSources) {\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (let newInput of newInputs) {\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    let { emitter } = context;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        name: 'misc',\n        isLoadingFuncs: [\n            (state) => computeEventSourcesLoading(state.eventSources),\n        ],\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\n\nclass TaskRunner {\n    constructor(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    request(task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    }\n    pause(scope) {\n        this.delayedRunner.pause(scope);\n    }\n    resume(scope, force) {\n        this.delayedRunner.resume(scope, force);\n    }\n    drain() {\n        let { queue } = this;\n        while (queue.length) {\n            let completedTasks = [];\n            let task;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    }\n    runTask(task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    }\n    drained(completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    let range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    let { currentRangeUnit } = dateProfile;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n    constructor(props) {\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.optionsForRefining = [];\n        this.optionsForHandling = [];\n        this.getCurrentData = () => this.data;\n        this.dispatch = (action) => {\n            this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        let dynamicOptionOverrides = {};\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (let callback of optionsData.pluginHooks.contextInit) {\n            callback(calendarContext);\n        }\n        // NOT DRY\n        let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        let initialState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        let { props } = this;\n        if (changedOptionNames === undefined) {\n            props.optionOverrides = optionOverrides;\n        }\n        else {\n            props.optionOverrides = Object.assign(Object.assign({}, (props.optionOverrides || {})), optionOverrides);\n            this.optionsForRefining.push(...changedOptionNames);\n        }\n        if (changedOptionNames === undefined || changedOptionNames.length) {\n            this.actionRunner.request({\n                type: 'NOTHING',\n            });\n        }\n    }\n    _handleAction(action) {\n        let { props, state, emitter } = this;\n        let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = reduceViewType(state.currentViewType, action);\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let { currentDate, dateProfile } = state;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n        let eventUiBySource = this.buildEventUiBySource(eventSources);\n        let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        let newState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            eventSources,\n            eventStore,\n            renderableEventStore,\n            selectionConfig,\n            eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        let wasLoading = computeIsLoading(state, calendarContext);\n        let isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    }\n    updateData() {\n        let { props, state } = this;\n        let oldData = this.data;\n        let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        let data = this.data = Object.assign(Object.assign(Object.assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        let oldCalendarOptions = oldData && oldData.calendarOptions;\n        let newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (let optionName in changeHandlers) {\n                if (this.optionsForHandling.indexOf(optionName) !== -1 ||\n                    oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        this.optionsForHandling = [];\n        if (props.onData) {\n            props.onData(data);\n        }\n    }\n    computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        if (!this.optionsForRefining.length &&\n            optionOverrides === this.stableOptionOverrides &&\n            dynamicOptionOverrides === this.stableDynamicOptionOverrides) {\n            return this.stableCalendarOptionsData;\n        }\n        let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);\n        let theme = this.buildTheme(refinedOptions, pluginHooks);\n        let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);\n        return this.stableCalendarOptionsData = {\n            calendarOptions: refinedOptions,\n            pluginHooks,\n            dateEnv,\n            viewSpecs,\n            theme,\n            toolbarConfig,\n            localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    }\n    // always called from behind a memoizer\n    processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n        let { locales, locale } = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let availableLocaleData = this.organizeRawLocales(locales);\n        let availableRawLocales = availableLocaleData.map;\n        let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let extra = {};\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refined = {};\n        let currentRaw = this.currentCalendarOptionsInput;\n        let currentRefined = this.currentCalendarOptionsRefined;\n        let anyChanges = false;\n        for (let optionName in raw) {\n            if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                (optionName in currentRaw) &&\n                COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName])))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else if (refiners[optionName]) {\n                refined[optionName] = refiners[optionName](raw[optionName]);\n                anyChanges = true;\n            }\n            else {\n                extra[optionName] = currentRaw[optionName];\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n            this.stableOptionOverrides = optionOverrides;\n            this.stableDynamicOptionOverrides = dynamicOptionOverrides;\n        }\n        this.optionsForHandling.push(...this.optionsForRefining);\n        this.optionsForRefining = [];\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks,\n            availableLocaleData,\n            localeDefaults,\n            extra,\n        };\n    }\n    _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        let viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n        }\n        let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n    }\n    processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let refined = {};\n        let currentRaw = this.currentViewOptionsInput;\n        let currentRefined = this.currentViewOptionsRefined;\n        let anyChanges = false;\n        let extra = {};\n        for (let optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra,\n        };\n    }\n}\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale,\n        weekNumberCalculation,\n        firstDay,\n        weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewImpl(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, (eventSource) => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    let eventUiBases = { '': eventUiSingleBase };\n    for (let defId in eventDefs) {\n        let def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    let { options } = calendarContext;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (let optionName in options) {\n        console.warn(`Unknown option '${optionName}'` +\n            (viewName ? ` for view '${viewName}'` : ''));\n    }\n}\n\nclass ToolbarSection extends BaseComponent {\n    render() {\n        let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n        return createElement('div', { className: 'fc-toolbar-chunk' }, ...children);\n    }\n    renderWidgetGroup(widgetGroup) {\n        let { props } = this;\n        let { theme } = this.context;\n        let children = [];\n        let isOnlyButtons = true;\n        for (let widget of widgetGroup) {\n            let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                let isPressed = buttonName === props.activeButton;\n                let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement('div', { className: groupClassName }, ...children);\n        }\n        return children[0];\n    }\n}\n\nclass Toolbar extends BaseComponent {\n    render() {\n        let { model, extraClassName } = this.props;\n        let forceLtr = false;\n        let startContent;\n        let endContent;\n        let sectionWidgets = model.sectionWidgets;\n        let centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        let classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    }\n    renderSection(key, widgetGroups) {\n        let { props } = this;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    }\n}\n\nclass ViewHarness extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            availableWidth: null,\n        };\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            this.updateAvailableWidth();\n        };\n        this.handleResize = () => {\n            this.updateAvailableWidth();\n        };\n    }\n    render() {\n        let { props, state } = this;\n        let { aspectRatio } = props;\n        let classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        let height = '';\n        let paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = `${(1 / aspectRatio) * 100}%`;\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n    }\n    componentDidMount() {\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    updateAvailableWidth() {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handleSegClick = (ev, segEl) => {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        this.handleSegClick);\n    }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        this.handleEventElRemove = (el) => {\n            if (el === this.currentSegEl) {\n                this.handleSegLeave(null, this.currentSegEl);\n            }\n        };\n        this.handleSegEnter = (ev, segEl) => {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                this.currentSegEl = segEl;\n                this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        this.handleSegLeave = (ev, segEl) => {\n            if (this.currentSegEl) {\n                this.currentSegEl = null;\n                this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        this.handleSegEnter, this.handleSegLeave);\n    }\n    destroy() {\n        this.removeHoverListeners();\n    }\n    triggerEvent(publicEvName, ev, segEl) {\n        let { component } = this;\n        let { context } = component;\n        let seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    }\n}\n\nclass CalendarContent extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.buildViewContext = memoize(buildViewContext);\n        this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        this.buildToolbarProps = memoize(buildToolbarProps);\n        this.headerRef = createRef();\n        this.footerRef = createRef();\n        this.interactionsStore = {};\n        // eslint-disable-next-line\n        this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        this.registerInteractiveComponent = (component, settingsInput) => {\n            let settings = parseInteractionSettings(component, settingsInput);\n            let DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n            let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n            this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        this.unregisterInteractiveComponent = (component) => {\n            let listeners = this.interactionsStore[component.uid];\n            if (listeners) {\n                for (let listener of listeners) {\n                    listener.destroy();\n                }\n                delete this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        this.resizeRunner = new DelayedRunner(() => {\n            this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n        });\n        this.handleWindowResize = (ev) => {\n            let { options } = this.props;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    render() {\n        let { props } = this;\n        let { toolbarConfig, options } = props;\n        let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        let viewVGrow = false;\n        let viewHeight = '';\n        let viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewHarness, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    }\n    componentDidMount() {\n        let { props } = this;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n        window.addEventListener('resize', this.handleWindowResize);\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        let { props } = this;\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (let interaction of this.calendarInteractions) {\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    }\n    buildAppendContent() {\n        let { props } = this;\n        let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n        return createElement(Fragment, {}, ...children);\n    }\n    renderView(props) {\n        let { pluginHooks } = props;\n        let { viewSpec } = props;\n        let viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (let transformer of transformers) {\n            Object.assign(viewProps, transformer.transform(viewProps, props));\n        }\n        let ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, Object.assign({}, viewProps)));\n    }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map((TheClass) => new TheClass());\n}\n\nclass Calendar extends CalendarImpl {\n    constructor(el, optionOverrides = {}) {\n        super();\n        this.isRendering = false;\n        this.isRendered = false;\n        this.currentClassNames = [];\n        this.customContentRenderId = 0;\n        this.handleAction = (action) => {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    this.renderRunner.tryDrain();\n            }\n        };\n        this.handleData = (data) => {\n            this.currentData = data;\n            this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        this.handleRenderRequest = () => {\n            if (this.isRendering) {\n                this.isRendered = true;\n                let { currentData } = this;\n                flushSync(() => {\n                    render(createElement(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                        this.setClassNames(classNames);\n                        this.setHeight(height);\n                        return (createElement(RenderId.Provider, { value: this.customContentRenderId },\n                            createElement(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                    }), this.el);\n                });\n            }\n            else if (this.isRendered) {\n                this.isRendered = false;\n                render(null, this.el);\n                this.setClassNames([]);\n                this.setHeight('');\n            }\n        };\n        ensureElHasStyles(el);\n        this.el = el;\n        this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides,\n            calendarApi: this,\n            onAction: this.handleAction,\n            onData: this.handleData,\n        });\n    }\n    render() {\n        let wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    }\n    destroy() {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    }\n    updateSize() {\n        flushSync(() => {\n            super.updateSize();\n        });\n    }\n    batchRendering(func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    }\n    pauseRendering() {\n        this.renderRunner.pause('pauseRendering');\n    }\n    resumeRendering() {\n        this.renderRunner.resume('pauseRendering', true);\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);\n    }\n    setClassNames(classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            let { classList } = this.el;\n            for (let className of this.currentClassNames) {\n                classList.remove(className);\n            }\n            for (let className of classNames) {\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    }\n    setHeight(height) {\n        applyStyleProp(this.el, 'height', height);\n    }\n}\n\nfunction formatDate(dateInput, options = {}) {\n    let dateEnv = buildDateEnv(options);\n    let formatter = createFormatter(options);\n    let dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    let formatter = createFormatter(options);\n    let startMeta = dateEnv.createMarkerMeta(startInput);\n    let endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nconst version = '6.1.4';\n\nexport { Calendar, createPlugin, formatDate, formatRange, globalLocales, globalPlugins, sliceEvents, version };\n","import { createFormatter, BaseComponent, StandardEvent, buildSegTimeText, EventContainer, getSegAnchorAttrs, memoize, MoreLinkContainer, getSegMeta, DateComponent, getUniqueDomId, setRef, DayCellContainer, WeekNumberContainer, buildNavLinkAttrs, hasCustomDayCellContent, addMs, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, formatIsoMonthStr, formatDayString, Slicer, DateProfileGenerator, addWeeks, diffWeeks, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DayHeader, DaySeriesModel, DayTableModel } from '@fullcalendar/core/internal';\nimport { createElement, Fragment, createRef } from '@fullcalendar/core/preact';\n\nfunction splitSegsByRow(segs, rowCnt) {\n    let byRow = [];\n    for (let i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (let seg of segs) {\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    let byCol = [];\n    for (let i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (let seg of segs) {\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nconst DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    let { display } = seg.eventRange.ui;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nclass TableBlockEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(StandardEvent, Object.assign({}, props, { elClasses: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    }\n}\n\nclass TableListItemEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        let timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"a\", elClasses: ['fc-daygrid-event', 'fc-daygrid-dot-event'], elAttrs: getSegAnchorAttrs(props.seg, context), defaultGenerator: renderInnerContent, timeText: timeText, isResizing: false, isDateSelecting: false })));\n    }\n}\nfunction renderInnerContent(renderProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: renderProps.borderColor || renderProps.backgroundColor } }),\n        renderProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, renderProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, renderProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nclass TableCellMoreLink extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.compileSegs = memoize(compileSegs);\n    }\n    render() {\n        let { props } = this;\n        let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-daygrid-more-link'], dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {\n                let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map((seg) => {\n                    let instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }));\n    }\n}\nfunction compileSegs(singlePlacements) {\n    let allSegs = [];\n    let invisibleSegs = [];\n    for (let placement of singlePlacements) {\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs, invisibleSegs };\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nclass TableCell extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            setRef(this.rootElRef, el);\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { context, props, state, rootElRef } = this;\n        let { options, dateEnv } = context;\n        let { date, dateProfile } = props;\n        // TODO: memoize this?\n        const isMonthStart = props.showDayNumber &&\n            shouldDisplayMonthStart(date, dateProfile.currentRange, dateEnv);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: this.handleRootEl, elClasses: [\n                'fc-daygrid-day',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})), { role: 'gridcell' }), defaultGenerator: renderTopInner, date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, isMonthStart: isMonthStart, extraRenderProps: props.extraRenderProps }, (InnerContent, renderProps) => (createElement(\"div\", { ref: props.innerElRef, className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", style: { minHeight: props.minHeight } },\n            props.showWeekNumber && (createElement(WeekNumberContainer, { elTag: \"a\", elClasses: ['fc-daygrid-week-number'], elAttrs: buildNavLinkAttrs(context, date, 'week'), date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT })),\n            !renderProps.isDisabled &&\n                (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop) ? (createElement(\"div\", { className: \"fc-daygrid-day-top\" },\n                createElement(InnerContent, { elTag: \"a\", elClasses: [\n                        'fc-daygrid-day-number',\n                        isMonthStart && 'fc-daygrid-month-start',\n                    ], elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), { id: state.dayNumberId }) }))) : props.showDayNumber ? (\n            // for creating correct amount of space (see issue #7162)\n            createElement(\"div\", { className: \"fc-daygrid-day-top\", style: { visibility: 'hidden' } },\n                createElement(\"a\", { className: \"fc-daygrid-day-number\" }, \"\\u00A0\"))) : undefined,\n            createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                props.fgContent,\n                createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                    createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n            createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))));\n    }\n}\nfunction renderTopInner(props) {\n    return props.dayNumberText || createElement(Fragment, null, \"\\u00A0\");\n}\nfunction shouldDisplayMonthStart(date, currentRange, dateEnv) {\n    const { start: currentStart, end: currentEnd } = currentRange;\n    const currentEndIncl = addMs(currentEnd, -1);\n    const currentFirstYear = dateEnv.getYear(currentStart);\n    const currentFirstMonth = dateEnv.getMonth(currentStart);\n    const currentLastYear = dateEnv.getYear(currentEndIncl);\n    const currentLastMonth = dateEnv.getMonth(currentEndIncl);\n    // spans more than one month?\n    return !(currentFirstYear === currentLastYear && currentFirstMonth === currentLastMonth) &&\n        Boolean(\n        // first date in current view?\n        date.valueOf() === currentStart.valueOf() ||\n            // a month-start that's within the current range?\n            (dateEnv.getDay(date) === 1 && date.valueOf() < currentEnd.valueOf()));\n}\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    let hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    let segInputs = [];\n    let unknownHeightSegs = [];\n    for (let i = 0; i < segs.length; i += 1) {\n        let seg = segs[i];\n        let { instanceId } = seg.eventRange.instance;\n        let eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let segRects = hierarchy.toRects();\n    let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);\n    let moreCnts = [];\n    let moreMarginTops = [];\n    // add segs with unknown heights\n    for (let seg of unknownHeightSegs) {\n        multiColPlacements[seg.firstCol].push({\n            seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (let col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (let hiddenEntry of hiddenEntries) {\n        let seg = segs[hiddenEntry.index];\n        let hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (let col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    let singleColPlacements = [];\n    let multiColPlacements = [];\n    let leftoverMargins = [];\n    for (let col = 0; col < cells.length; col += 1) {\n        let rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        let singlePlacements = [];\n        let currentHeight = 0;\n        let currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        let multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            let isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            let isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements, multiColPlacements, leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    let rectsByEachCol = [];\n    for (let col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (let rect of rects) {\n        for (let col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    let eventRange = seg.eventRange;\n    let origRange = eventRange.range;\n    let slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nclass DayGridSegHierarchy extends SegHierarchy {\n    constructor() {\n        super(...arguments);\n        // config\n        this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        this.forceHidden = {};\n    }\n    addSegs(segInputs) {\n        const hiddenSegs = super.addSegs(segInputs);\n        const { entriesByLevel } = this;\n        const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];\n        // remove the forced-hidden segs\n        for (let level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        const { entriesByLevel, forceHidden } = this;\n        const { touchingEntry, touchingLevel, touchingLateral } = insertion;\n        if (this.hiddenConsumes && touchingEntry) {\n            const touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    const placeholderEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    const placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return super.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n}\n\nclass TableRow extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.cellElRefs = new RefMap(); // the <td>\n        this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        this.rootElRef = createRef();\n        this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        this.handleResize = (isForced) => {\n            if (isForced) {\n                this.updateSizing(true); // isExternal=true\n            }\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let { options } = context;\n        let colCnt = props.cells.length;\n        let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells);\n        let isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map((cell, col) => {\n                let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))), minHeight: props.cellMinHeight }));\n            })));\n    }\n    componentDidMount() {\n        this.updateSizing(true);\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        let currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    getHighlightSegs() {\n        let { props } = this;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    }\n    getMirrorSegs() {\n        let { props } = this;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    }\n    renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        let { context } = this;\n        let { eventSelection } = this.props;\n        let { framePositions } = this.state;\n        let defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let nodes = [];\n        if (framePositions) {\n            for (let placement of segPlacements) {\n                let { seg } = placement;\n                let { instanceId } = seg.eventRange.instance;\n                let key = instanceId + ':' + col;\n                let isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                let isAbsolute = placement.isAbsolute;\n                let left = '';\n                let right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left,\n                        right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    }\n    renderFillSegs(segs, fillType) {\n        let { isRtl } = this.context;\n        let { todayRange } = this.props;\n        let { framePositions } = this.state;\n        let nodes = [];\n        if (framePositions) {\n            for (let seg of segs) {\n                let leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement(Fragment, {}, ...nodes);\n    }\n    updateSizing(isExternalSizingChange) {\n        let { props, state, frameElRefs } = this;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);\n                if (frameEls.length) {\n                    let originEl = this.rootElRef.current;\n                    let newPositionCache = new PositionCache(originEl, frameEls, true, // isHorizontal\n                    false);\n                    if (!state.framePositions || !state.framePositions.similarTo(newPositionCache)) {\n                        this.setState({\n                            framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                            false),\n                        });\n                    }\n                }\n            }\n            const oldInstanceHeights = this.state.eventInstanceHeights;\n            const newInstanceHeights = this.queryEventInstanceHeights();\n            const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                eventInstanceHeights: Object.assign(Object.assign({}, oldInstanceHeights), newInstanceHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    }\n    queryEventInstanceHeights() {\n        let segElMap = this.segHarnessRefs.currentMap;\n        let eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (let key in segElMap) {\n            let height = Math.round(segElMap[key].getBoundingClientRect().height);\n            let instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    }\n    computeMaxContentHeight() {\n        let firstKey = this.props.cells[0].key;\n        let cellEl = this.cellElRefs.currentMap[firstKey];\n        let fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    }\n    getCellEls() {\n        let elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map((cell) => elMap[cell.key]);\n    }\n}\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    let topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map((seg) => ({\n        seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }));\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    let topsByInstanceId = {};\n    for (let placements of colPlacements) {\n        for (let placement of placements) {\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nclass TableRows extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        this.splitBgEventSegs = memoize(splitSegsByRow);\n        this.splitFgEventSegs = memoize(splitSegsByRow);\n        this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        this.splitEventDrag = memoize(splitInteractionByRow);\n        this.splitEventResize = memoize(splitInteractionByRow);\n        this.rowRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let rowCnt = props.cells.length;\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        // for DayGrid view with many rows, force a min-height on cells so doesn't appear squished\n        // choose 7 because a month view will have max 6 rows\n        let cellMinHeight = (rowCnt >= 7 && props.clientWidth) ?\n            props.clientWidth / context.options.aspectRatio / 6 :\n            null;\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(Fragment, null, props.cells.map((cells, row) => (createElement(TableRow, { ref: this.rowRefs.createRef(row), key: cells.length\n                ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                : row // in case there are no cells (like when resource view is loading)\n            , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: props.dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, cellMinHeight: cellMinHeight, forPrint: props.forPrint })))))));\n    }\n    componentDidMount() {\n        // HACK: need a daygrid wrapper parent to do positioning\n        // NOTE: a daygrid resource view w/o resources can have zero cells\n        const firstCellEl = this.rowRefs.currentMap[0].getCellEls()[0];\n        this.rootEl = firstCellEl ? firstCellEl.closest('.fc-daygrid-body') : null;\n        if (this.rootEl) {\n            this.context.registerInteractiveComponent(this, {\n                el: this.rootEl,\n                isHitComboAllowed: this.props.isHitComboAllowed,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.rootEl) {\n            this.context.unregisterInteractiveComponent(this);\n            this.rootEl = null;\n        }\n    }\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    prepareHits() {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    }\n    queryHit(positionLeft, positionTop) {\n        let { colPositions, rowPositions } = this;\n        let col = colPositions.leftToIndex(positionLeft);\n        let row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            let cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n    getCellEl(row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    }\n    getCellRange(row, col) {\n        let start = this.props.cells[row][col].date;\n        let end = addDays(start, 1);\n        return { start, end };\n    }\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nclass Table extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.elRef = createRef();\n        this.needsScrollReset = false;\n    }\n    render() {\n        let { props } = this;\n        let { dayMaxEventRows, dayMaxEvents, expandRows } = props;\n        let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        let classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { ref: this.elRef, className: classNames.join(' '), style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                    width: props.clientWidth,\n                    minWidth: props.tableMinWidth,\n                    height: expandRows ? props.clientHeight : '',\n                } },\n                props.colGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(TableRows, { dateProfile: props.dateProfile, cells: props.cells, renderRowIntro: props.renderRowIntro, showWeekNumbers: props.showWeekNumbers, clientWidth: props.clientWidth, clientHeight: props.clientHeight, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, forPrint: props.forPrint, isHitComboAllowed: props.isHitComboAllowed })))));\n    }\n    componentDidMount() {\n        this.requestScrollReset();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.dateProfile !== this.props.dateProfile) {\n            this.requestScrollReset();\n        }\n        else {\n            this.flushScrollReset();\n        }\n    }\n    requestScrollReset() {\n        this.needsScrollReset = true;\n        this.flushScrollReset();\n    }\n    flushScrollReset() {\n        if (this.needsScrollReset &&\n            this.props.clientWidth // sizes computed?\n        ) {\n            const subjectEl = getScrollSubjectEl(this.elRef.current, this.props.dateProfile);\n            if (subjectEl) {\n                const originEl = subjectEl.closest('.fc-daygrid-body');\n                const scrollEl = originEl.closest('.fc-scroller');\n                const scrollTop = subjectEl.getBoundingClientRect().top -\n                    originEl.getBoundingClientRect().top;\n                scrollEl.scrollTop = scrollTop ? (scrollTop + 1) : 0; // overcome border\n            }\n            this.needsScrollReset = false;\n        }\n    }\n}\nfunction getScrollSubjectEl(containerEl, dateProfile) {\n    let el;\n    if (dateProfile.currentRangeUnit.match(/year|month/)) {\n        el = containerEl.querySelector(`[data-date=\"${formatIsoMonthStr(dateProfile.currentDate)}-01\"]`);\n        // even if view is month-based, first-of-month might be hidden...\n    }\n    if (!el) {\n        el = containerEl.querySelector(`[data-date=\"${formatDayString(dateProfile.currentDate)}\"]`);\n        // could still be hidden if an interior-view hidden day\n    }\n    return el;\n}\n\nclass DayTableSlicer extends Slicer {\n    constructor() {\n        super(...arguments);\n        this.forceDayIfListItem = true;\n    }\n    sliceRange(dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    }\n}\n\nclass DayTable extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.slicer = new DayTableSlicer();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    }\n}\n\nclass TableDateProfileGenerator extends DateProfileGenerator {\n    // Computes the date range that will be rendered\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);\n        let { props } = this;\n        return buildDayTableRenderRange({\n            currentRange: renderRange,\n            snapToWeek: /^(year|month)$/.test(currentRangeUnit),\n            fixedWeekCount: props.fixedWeekCount,\n            dateEnv: props.dateEnv,\n        });\n    }\n}\nfunction buildDayTableRenderRange(props) {\n    let { dateEnv, currentRange } = props;\n    let { start, end } = currentRange;\n    let endOfWeek;\n    // year and month views should be aligned with weeks. this is already done for week\n    if (props.snapToWeek) {\n        start = dateEnv.startOfWeek(start);\n        // make end-of-week if not already\n        endOfWeek = dateEnv.startOfWeek(end);\n        if (endOfWeek.valueOf() !== end.valueOf()) {\n            end = addWeeks(endOfWeek, 1);\n        }\n    }\n    // ensure 6 weeks\n    if (props.fixedWeekCount) {\n        // TODO: instead of these date-math gymnastics (for multimonth view),\n        // compute dateprofiles of all months, then use start of first and end of last.\n        let lastMonthRenderStart = dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end, -1)));\n        let rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n        diffWeeks(lastMonthRenderStart, end));\n        end = addWeeks(end, 6 - rowCnt);\n    }\n    return { start, end };\n}\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nclass TableView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.headerElRef = createRef();\n    }\n    renderSimpleLayout(headerRowContent, bodyContent) {\n        let { props, context } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { props, context } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections })));\n    }\n}\n\nclass DayTableView extends TableView {\n    constructor() {\n        super(...arguments);\n        this.buildDayTableModel = memoize(buildDayTableModel);\n        this.headerRef = createRef();\n        this.tableRef = createRef();\n        // can't override any lifecycle methods from parent\n    }\n    render() {\n        let { options, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        let bodyContent = (contentArg) => (createElement(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }));\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    }\n}\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableDateProfileGenerator, TableRows, TableView, buildDayTableModel, buildDayTableRenderRange };\n","import { createPlugin } from '@fullcalendar/core';\nimport { DayGridView as DayTableView, TableDateProfileGenerator } from './internal.js';\nimport { injectStyles } from '@fullcalendar/core/internal';\nimport '@fullcalendar/core/preact';\n\nvar css_248z = \":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\";\ninjectStyles(css_248z);\n\nvar index = createPlugin({\n    name: '@fullcalendar/daygrid',\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            fixedWeekCount: true,\n        },\n        dayGridYear: {\n            type: 'dayGrid',\n            duration: { years: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import { createPlugin } from '@fullcalendar/core';\nimport { config, Emitter, elementClosest, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, ElementDragging, preventSelection, preventContextMenu, allowSelection, allowContextMenu, computeRect, getClippingParents, pointInsideRect, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, isDateSpansEqual, Interaction, interactionSettingsToStore, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventImpl, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS } from '@fullcalendar/core/internal';\n\nconfig.touchMouseIgnoreWait = 500;\nlet ignoreMouseDepth = 0;\nlet listenerCnt = 0;\nlet isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nclass PointerDragging {\n    constructor(containerEl) {\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = (ev) => {\n            if (!this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                this.tryStart(ev)) {\n                let pev = this.createEventFromMouse(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                if (!this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = (ev) => {\n            let pev = this.createEventFromMouse(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = (ev) => {\n            document.removeEventListener('mousemove', this.handleMouseMove);\n            document.removeEventListener('mouseup', this.handleMouseUp);\n            this.emitter.trigger('pointerup', this.createEventFromMouse(ev));\n            this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = (ev) => {\n            if (this.tryStart(ev)) {\n                this.isTouchDragging = true;\n                let pev = this.createEventFromTouch(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                let targetEl = ev.target;\n                if (!this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = (ev) => {\n            let pev = this.createEventFromTouch(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = (ev) => {\n            if (this.isDragging) { // done to guard against touchend followed by touchcancel\n                let targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', this.handleTouchMove);\n                targetEl.removeEventListener('touchend', this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', this.handleTouchEnd);\n                window.removeEventListener('scroll', this.handleTouchScroll, true); // useCaptured=true\n                this.emitter.trigger('pointerup', this.createEventFromTouch(ev));\n                this.cleanup(); // call last so that pointerup has access to props\n                this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = () => {\n            this.wasTouchScroll = true;\n        };\n        this.handleScroll = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                let pageX = (window.pageXOffset - this.prevScrollX) + this.prevPageX;\n                let pageY = (window.pageYOffset - this.prevScrollY) + this.prevPageY;\n                this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: this.isTouchDragging,\n                    subjectEl: this.subjectEl,\n                    pageX,\n                    pageY,\n                    deltaX: pageX - this.origPageX,\n                    deltaY: pageY - this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    destroy() {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    }\n    tryStart(ev) {\n        let subjectEl = this.querySubjectEl(ev);\n        let downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    }\n    cleanup() {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    }\n    querySubjectEl(ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    }\n    shouldIgnoreMouse() {\n        return ignoreMouseDepth || this.isTouchDragging;\n    }\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    cancelTouchScroll() {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    }\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    initScrollWatch(ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    }\n    recordCoords(ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    }\n    destroyScrollWatch() {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    }\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    createEventFromMouse(ev, isFirst) {\n        let deltaX = 0;\n        let deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n    createEventFromTouch(ev, isFirst) {\n        let touches = ev.touches;\n        let pageX;\n        let pageY;\n        let deltaX = 0;\n        let deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX,\n            pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n}\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(() => {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nclass ElementMirror {\n    constructor() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    start(sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    }\n    handleMove(pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    }\n    // can be called before start\n    setIsVisible(bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    }\n    // always async\n    stop(needsRevertAnimation, callback) {\n        let done = () => {\n            this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    }\n    doRevertAnimation(callback, revertDuration) {\n        let mirrorEl = this.mirrorEl;\n        let finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, () => {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    }\n    cleanup() {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    }\n    updateElPosition() {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    }\n    getMirrorEl() {\n        let sourceElRect = this.sourceElRect;\n        let mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    }\n}\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nclass ScrollGeomCache extends ScrollController {\n    constructor(scrollController, doesListening) {\n        super();\n        this.handleScroll = () => {\n            this.scrollTop = this.scrollController.getScrollTop();\n            this.scrollLeft = this.scrollController.getScrollLeft();\n            this.handleScrollChange();\n        };\n        this.scrollController = scrollController;\n        this.doesListening = doesListening;\n        this.scrollTop = this.origScrollTop = scrollController.getScrollTop();\n        this.scrollLeft = this.origScrollLeft = scrollController.getScrollLeft();\n        this.scrollWidth = scrollController.getScrollWidth();\n        this.scrollHeight = scrollController.getScrollHeight();\n        this.clientWidth = scrollController.getClientWidth();\n        this.clientHeight = scrollController.getClientHeight();\n        this.clientRect = this.computeClientRect(); // do last in case it needs cached values\n        if (this.doesListening) {\n            this.getEventTarget().addEventListener('scroll', this.handleScroll);\n        }\n    }\n    destroy() {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    }\n    getScrollTop() {\n        return this.scrollTop;\n    }\n    getScrollLeft() {\n        return this.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    }\n    setScrollLeft(top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    }\n    getClientWidth() {\n        return this.clientWidth;\n    }\n    getClientHeight() {\n        return this.clientHeight;\n    }\n    getScrollWidth() {\n        return this.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.scrollHeight;\n    }\n    handleScrollChange() {\n    }\n}\n\nclass ElementScrollGeomCache extends ScrollGeomCache {\n    constructor(el, doesListening) {\n        super(new ElementScrollController(el), doesListening);\n    }\n    getEventTarget() {\n        return this.scrollController.el;\n    }\n    computeClientRect() {\n        return computeInnerRect(this.scrollController.el);\n    }\n}\n\nclass WindowScrollGeomCache extends ScrollGeomCache {\n    constructor(doesListening) {\n        super(new WindowScrollController(), doesListening);\n    }\n    getEventTarget() {\n        return window;\n    }\n    computeClientRect() {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    }\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    handleScrollChange() {\n        this.clientRect = this.computeClientRect();\n    }\n}\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nconst getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nclass AutoScroller {\n    constructor() {\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = () => {\n            if (this.isAnimating) { // wasn't cancelled between animation calls\n                let edge = this.computeBestEdge(this.pointerScreenX + window.pageXOffset, this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    let now = getTime();\n                    this.handleSide(edge, (now - this.msSinceRequest) / 1000);\n                    this.requestAnimation(now);\n                }\n                else {\n                    this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    start(pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    }\n    handleMove(pageX, pageY) {\n        if (this.isEnabled) {\n            let pointerScreenX = pageX - window.pageXOffset;\n            let pointerScreenY = pageY - window.pageYOffset;\n            let yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            let xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    }\n    stop() {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (let scrollCache of this.scrollCaches) {\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    }\n    requestAnimation(now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    }\n    handleSide(edge, seconds) {\n        let { scrollCache } = edge;\n        let { edgeThreshold } = this;\n        let invDistance = edgeThreshold - edge.distance;\n        let velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        let sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    }\n    // left/top are relative to document topleft\n    computeBestEdge(left, top) {\n        let { edgeThreshold } = this;\n        let bestSide = null;\n        let scrollCaches = this.scrollCaches || [];\n        for (let scrollCache of scrollCaches) {\n            let rect = scrollCache.clientRect;\n            let leftDist = left - rect.left;\n            let rightDist = rect.right - left;\n            let topDist = top - rect.top;\n            let bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    }\n    buildCaches(scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map((el) => {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    }\n    queryScrollEls(scrollStartEl) {\n        let els = [];\n        for (let query of this.scrollQuery) {\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push(...Array.prototype.slice.call(scrollStartEl.getRootNode().querySelectorAll(query)));\n            }\n        }\n        return els;\n    }\n}\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nclass FeaturefulElementDragging extends ElementDragging {\n    constructor(containerEl, selector) {\n        super(containerEl);\n        this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        this.delay = null;\n        this.minDistance = 0;\n        this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        this.mirrorNeedsRevert = false;\n        this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        this.isDelayEnded = false;\n        this.isDistanceSurpassed = false;\n        this.delayTimeoutId = null;\n        this.onPointerDown = (ev) => {\n            if (!this.isDragging) { // so new drag doesn't happen while revert animation is going\n                this.isInteracting = true;\n                this.isDelayEnded = false;\n                this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                this.emitter.trigger('pointerdown', ev);\n                if (this.isInteracting && // not destroyed via pointerdown handler\n                    !this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    this.startDelay(ev);\n                    if (!this.minDistance) {\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        this.onPointerMove = (ev) => {\n            if (this.isInteracting) {\n                this.emitter.trigger('pointermove', ev);\n                if (!this.isDistanceSurpassed) {\n                    let minDistance = this.minDistance;\n                    let distanceSq; // current distance from the origin, squared\n                    let { deltaX, deltaY } = ev;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        this.mirror.handleMove(ev.pageX, ev.pageY);\n                        this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        this.onPointerUp = (ev) => {\n            if (this.isInteracting) {\n                this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (this.isDragging) {\n                    this.autoScroller.stop();\n                    this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (this.delayTimeoutId) {\n                    clearTimeout(this.delayTimeoutId);\n                    this.delayTimeoutId = null;\n                }\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.onPointerDown);\n        pointer.emitter.on('pointermove', this.onPointerMove);\n        pointer.emitter.on('pointerup', this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        this.mirror = new ElementMirror();\n        this.autoScroller = new AutoScroller();\n    }\n    destroy() {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    }\n    startDelay(ev) {\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(() => {\n                this.delayTimeoutId = null;\n                this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    }\n    handleDelayEnd(ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    }\n    handleDistanceSurpassed(ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    }\n    tryStartDrag(ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    }\n    tryStopDrag(ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    }\n    stopDrag(ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    }\n    // fill in the implementations...\n    setIgnoreMove(bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        this.mirror.setIsVisible(bool);\n    }\n    setMirrorNeedsRevert(bool) {\n        this.mirrorNeedsRevert = bool;\n    }\n    setAutoScrollEnabled(bool) {\n        this.autoScroller.isEnabled = bool;\n    }\n}\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nclass OffsetTracker {\n    constructor(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map((scrollEl) => new ElementScrollGeomCache(scrollEl, true));\n    }\n    destroy() {\n        for (let scrollCache of this.scrollCaches) {\n            scrollCache.destroy();\n        }\n    }\n    computeLeft() {\n        let left = this.origRect.left;\n        for (let scrollCache of this.scrollCaches) {\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    }\n    computeTop() {\n        let top = this.origRect.top;\n        for (let scrollCache of this.scrollCaches) {\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    }\n    isWithinClipping(pageX, pageY) {\n        let point = { left: pageX, top: pageY };\n        for (let scrollCache of this.scrollCaches) {\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    let tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nclass HitDragging {\n    constructor(dragging, droppableStore) {\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            this.initialHit = null;\n            this.movingHit = null;\n            this.finalHit = null;\n            this.prepareHits();\n            this.processFirstCoord(ev);\n            if (this.initialHit || !this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = (ev) => {\n            this.emitter.trigger('dragstart', ev);\n            this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = (ev) => {\n            this.emitter.trigger('dragmove', ev);\n            this.handleMove(ev);\n        };\n        this.handlePointerUp = (ev) => {\n            this.releaseHits();\n            this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.movingHit) {\n                this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            this.finalHit = this.movingHit;\n            this.movingHit = null;\n            this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    processFirstCoord(ev) {\n        let origPoint = { left: ev.pageX, top: ev.pageY };\n        let adjustedPoint = origPoint;\n        let subjectEl = ev.subjectEl;\n        let subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        let initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                let slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    }\n    handleMove(ev, forceHandle) {\n        let hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    }\n    prepareHits() {\n        this.offsetTrackers = mapHash(this.droppableStore, (interactionSettings) => {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    }\n    releaseHits() {\n        let { offsetTrackers } = this;\n        for (let id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    }\n    queryHitForOffset(offsetLeft, offsetTop) {\n        let { droppableStore, offsetTrackers } = this;\n        let bestHit = null;\n        for (let id in droppableStore) {\n            let component = droppableStore[id].component;\n            let offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                let originLeft = offsetTracker.computeLeft();\n                let originTop = offsetTracker.computeTop();\n                let positionLeft = offsetLeft - originLeft;\n                let positionTop = offsetTop - originTop;\n                let { origRect } = offsetTracker;\n                let width = origRect.right - origRect.left;\n                let height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    let hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    }\n}\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.datePointTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nclass DateClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handlePointerDown = (pev) => {\n            let { dragging } = this;\n            let downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        this.handleDragEnd = (ev) => {\n            let { component } = this;\n            let { pointer } = this.dragging;\n            if (!pointer.wasTouchScroll) {\n                let { initialHit, finalHit } = this.hitDragging;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    let { context } = component;\n                    let arg = Object.assign(Object.assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        this.dragging = new FeaturefulElementDragging(settings.el);\n        this.dragging.autoScroller.isEnabled = false;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nclass DateSelecting extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.dragSelection = null;\n        this.handlePointerDown = (ev) => {\n            let { component, dragging } = this;\n            let { options } = component.context;\n            let canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        this.handleDragStart = (ev) => {\n            this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            let { context } = this.component;\n            let dragSelection = null;\n            let isInvalid = false;\n            if (hit) {\n                let initialHit = this.hitDragging.initialHit;\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        this.handlePointerUp = (pev) => {\n            if (this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(this.dragSelection, pev, this.component.context);\n                this.dragSelection = null;\n            }\n        };\n        let { component } = settings;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\nfunction getComponentTouchDelay$1(component) {\n    let { options } = component.context;\n    let delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    let props = {};\n    for (let transformer of dateSelectionTransformers) {\n        let res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            Object.assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nclass EventDragging extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.subjectEl = null;\n        this.subjectSeg = null; // the seg being selected/dragged\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null; // the events being dragged\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let origTarget = ev.origEvent.target;\n            let { component, dragging } = this;\n            let { mirror } = dragging;\n            let { options } = component.context;\n            let initialContext = component.context;\n            this.subjectEl = ev.subjectEl;\n            let subjectSeg = this.subjectSeg = getElSeg(ev.subjectEl);\n            let eventRange = this.eventRange = subjectSeg.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            let isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        this.handleDragStart = (ev) => {\n            let initialContext = this.component.context;\n            let eventRange = this.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: this.subjectEl,\n                    event: new EventImpl(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            if (!this.isDragging) {\n                return;\n            }\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let initialContext = this.component.context;\n            // states based on new hit\n            let receivingContext = null;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                let receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                this.dragging.setMirrorIsVisible(!hit || !this.subjectEl.getRootNode().querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                this.receivingContext = receivingContext;\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handlePointerUp = () => {\n            if (!this.isDragging) {\n                this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.isDragging) {\n                let initialContext = this.component.context;\n                let initialView = initialContext.viewApi;\n                let { receivingContext, validMutation } = this;\n                let eventDef = this.eventRange.def;\n                let eventInstance = this.eventRange.instance;\n                let eventApi = new EventImpl(initialContext, eventDef, eventInstance);\n                let relevantEvents = this.relevantEvents;\n                let mutatedRelevantEvents = this.mutatedRelevantEvents;\n                let { finalHit } = this.hitDragging;\n                this.clearDrag(); // must happen after revert animation\n                initialContext.emitter.trigger('eventDragStop', {\n                    el: this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext === initialContext) {\n                        let updatedEventApi = new EventImpl(initialContext, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                        initialContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents, // the pre-change data\n                                });\n                            },\n                        };\n                        let transformed = {};\n                        for (let transformer of initialContext.getCurrentData().pluginHooks.eventDropTransformers) {\n                            Object.assign(transformed, transformer(validMutation, initialContext));\n                        }\n                        initialContext.emitter.trigger('eventDrop', Object.assign(Object.assign(Object.assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext) {\n                        let eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents,\n                                });\n                            },\n                        };\n                        initialContext.emitter.trigger('eventLeave', Object.assign(Object.assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents,\n                        });\n                        initialContext.emitter.trigger('eventRemove', eventRemoveArg);\n                        let addedEventDef = mutatedRelevantEvents.defs[eventDef.defId];\n                        let addedEventInstance = mutatedRelevantEvents.instances[eventInstance.instanceId];\n                        let addedEventApi = new EventImpl(receivingContext, addedEventDef, addedEventInstance);\n                        receivingContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, receivingContext, addedEventInstance),\n                            revert() {\n                                receivingContext.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents,\n                                });\n                            },\n                        };\n                        receivingContext.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext.emitter.trigger('eventReceive', Object.assign(Object.assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext.emitter.trigger('_noEventDrop');\n                }\n            }\n            this.cleanup();\n        };\n        let { component } = this;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    // render a drag state on the next receivingCalendar\n    displayDrag(nextContext, state) {\n        let initialContext = this.component.context;\n        let prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        let initialCalendar = this.component.context;\n        let { receivingContext } = this;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    cleanup() {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    }\n}\n// TODO: test this in IE11\n// QUESTION: why do we need it on the resizable???\nEventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\nfunction computeEventMutation(hit0, hit1, massagers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let date0 = dateSpan0.range.start;\n    let date1 = dateSpan1.range.start;\n    let standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    let delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    let mutation = {\n        datesDelta: delta,\n        standardProps,\n    };\n    for (let massager of massagers) {\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    let { options } = component.context;\n    let delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nclass EventResizing extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.draggingSegEl = null;\n        this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let { component } = this;\n            let segEl = this.querySegEl(ev);\n            let seg = getElSeg(segEl);\n            let eventRange = this.eventRange = seg.eventRange;\n            this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        this.handleDragStart = (ev) => {\n            let { context } = this.component;\n            let eventRange = this.eventRange;\n            this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, this.eventRange.instance.instanceId);\n            let segEl = this.querySegEl(ev);\n            this.draggingSegEl = segEl;\n            this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventImpl(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { context } = this.component;\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let eventInstance = this.eventRange.instance;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            let { context } = this.component;\n            let eventDef = this.eventRange.def;\n            let eventInstance = this.eventRange.instance;\n            let eventApi = new EventImpl(context, eventDef, eventInstance);\n            let relevantEvents = this.relevantEvents;\n            let mutatedRelevantEvents = this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (this.validMutation) {\n                let updatedEventApi = new EventImpl(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                let eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert() {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', Object.assign(Object.assign({}, eventChangeArg), { el: this.draggingSegEl, startDelta: this.validMutation.startDelta || createDuration(0), endDelta: this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            this.draggingSeg = null;\n            this.relevantEvents = null;\n            this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        let { component } = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    querySegEl(ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    }\n}\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    let dateEnv = hit0.context.dateEnv;\n    let date0 = hit0.dateSpan.range.start;\n    let date1 = hit1.dateSpan.range.start;\n    let delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nclass UnselectAuto {\n    constructor(context) {\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = (selectInfo) => {\n            if (selectInfo.jsEvent) {\n                this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = (pev) => {\n            let unselectCancel = this.context.options.unselectCancel;\n            let downEl = getEventTargetViaRoot(pev.origEvent);\n            this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = (pev) => {\n            let { context } = this;\n            let { documentPointer } = this;\n            let calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    let unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            this.isRecentPointerDateSelect = false;\n        };\n        let documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    destroy() {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    }\n}\n\nconst OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nconst LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nclass ExternalElementDragging {\n    constructor(dragging, suppliedDragMeta) {\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = (ev) => {\n            this.dragMeta = this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { dragging } = this.hitDragging;\n            let receivingContext = null;\n            let droppableEvent = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                this.receivingContext = receivingContext;\n                this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = (pev) => {\n            let { receivingContext, droppableEvent } = this;\n            this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                let finalHit = this.hitDragging.finalHit;\n                let finalView = finalHit.context.viewApi;\n                let dragMeta = this.dragMeta;\n                receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    let addingEvents = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventImpl(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert() {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            this.receivingContext = null;\n            this.droppableEvent = null;\n        };\n        let hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    buildDragMeta(subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    }\n    displayDrag(nextContext, state) {\n        let prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    canDropElOnCalendar(el, receivingContext) {\n        let dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    }\n}\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    let defProps = Object.assign({}, dragMeta.leftoverProps);\n    for (let transform of context.pluginHooks.externalDefTransforms) {\n        Object.assign(defProps, transform(dateSpan, dragMeta));\n    }\n    let { refined, extra } = refineEventDef(defProps, context);\n    let def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    let start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    let end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    let instance = createEventInstance(def.defId, { start, end });\n    return { def, instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    let str = getEmbeddedElData(el, 'event');\n    let obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    let prefix = config.dataAttrPrefix;\n    let prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nclass ExternalDraggable {\n    constructor(el, settings = {}) {\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            let { minDistance, longPressDelay } = this.settings;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = (ev) => {\n            if (ev.isTouch &&\n                this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nclass InferredElementDragging extends ElementDragging {\n    constructor(containerEl) {\n        super(containerEl);\n        this.shouldIgnoreMove = false;\n        this.mirrorSelector = '';\n        this.currentMirrorEl = null;\n        this.handlePointerDown = (ev) => {\n            this.emitter.trigger('pointerdown', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                this.emitter.trigger('dragstart', ev);\n            }\n        };\n        this.handlePointerMove = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                this.emitter.trigger('dragmove', ev);\n            }\n        };\n        this.handlePointerUp = (ev) => {\n            this.emitter.trigger('pointerup', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                this.emitter.trigger('dragend', ev);\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.handlePointerDown);\n        pointer.emitter.on('pointermove', this.handlePointerMove);\n        pointer.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.pointer.destroy();\n    }\n    setIgnoreMove(bool) {\n        this.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            let mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    }\n}\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nclass ThirdPartyDraggable {\n    constructor(containerOrSettings, settings) {\n        let containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        let dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\nvar index = createPlugin({\n    name: '@fullcalendar/interaction',\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport { ExternalDraggable as Draggable, ThirdPartyDraggable, index as default };\n","import { JsonRequestError, createPlugin } from '@fullcalendar/core';\nimport { requestJson, addDays, identity } from '@fullcalendar/core/internal';\n\n// TODO: expose somehow\nconst API_BASE = 'https://www.googleapis.com/calendar/v3/calendars';\nconst eventSourceDef = {\n    parseMeta(refined) {\n        let { googleCalendarId } = refined;\n        if (!googleCalendarId && refined.url) {\n            googleCalendarId = parseGoogleCalendarId(refined.url);\n        }\n        if (googleCalendarId) {\n            return {\n                googleCalendarId,\n                googleCalendarApiKey: refined.googleCalendarApiKey,\n                googleCalendarApiBase: refined.googleCalendarApiBase,\n                extraParams: refined.extraParams,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        let { dateEnv, options } = arg.context;\n        let meta = arg.eventSource.meta;\n        let apiKey = meta.googleCalendarApiKey || options.googleCalendarApiKey;\n        if (!apiKey) {\n            errorCallback(new Error('Specify a googleCalendarApiKey. See https://fullcalendar.io/docs/google-calendar'));\n        }\n        else {\n            let url = buildUrl(meta);\n            // TODO: make DRY with json-feed-event-source\n            let { extraParams } = meta;\n            let extraParamsObj = typeof extraParams === 'function' ? extraParams() : extraParams;\n            let requestParams = buildRequestParams(arg.range, apiKey, extraParamsObj, dateEnv);\n            return requestJson('GET', url, requestParams).then(([body, response]) => {\n                if (body.error) {\n                    errorCallback(new JsonRequestError('Google Calendar API: ' + body.error.message, response));\n                }\n                else {\n                    successCallback({\n                        rawEvents: gcalItemsToRawEventDefs(body.items, requestParams.timeZone),\n                        response,\n                    });\n                }\n            }, errorCallback);\n        }\n    },\n};\nfunction parseGoogleCalendarId(url) {\n    let match;\n    // detect if the ID was specified as a single string.\n    // will match calendars like \"asdf1234@calendar.google.com\" in addition to person email calendars.\n    if (/^[^/]+@([^/.]+\\.)*(google|googlemail|gmail)\\.com$/.test(url)) {\n        return url;\n    }\n    if ((match = /^https:\\/\\/www.googleapis.com\\/calendar\\/v3\\/calendars\\/([^/]*)/.exec(url)) ||\n        (match = /^https?:\\/\\/www.google.com\\/calendar\\/feeds\\/([^/]*)/.exec(url))) {\n        return decodeURIComponent(match[1]);\n    }\n    return null;\n}\nfunction buildUrl(meta) {\n    let apiBase = meta.googleCalendarApiBase;\n    if (!apiBase) {\n        apiBase = API_BASE;\n    }\n    return apiBase + '/' + encodeURIComponent(meta.googleCalendarId) + '/events';\n}\nfunction buildRequestParams(range, apiKey, extraParams, dateEnv) {\n    let params;\n    let startStr;\n    let endStr;\n    if (dateEnv.canComputeOffset) {\n        // strings will naturally have offsets, which GCal needs\n        startStr = dateEnv.formatIso(range.start);\n        endStr = dateEnv.formatIso(range.end);\n    }\n    else {\n        // when timezone isn't known, we don't know what the UTC offset should be, so ask for +/- 1 day\n        // from the UTC day-start to guarantee we're getting all the events\n        // (start/end will be UTC-coerced dates, so toISOString is okay)\n        startStr = addDays(range.start, -1).toISOString();\n        endStr = addDays(range.end, 1).toISOString();\n    }\n    params = Object.assign(Object.assign({}, (extraParams || {})), { key: apiKey, timeMin: startStr, timeMax: endStr, singleEvents: true, maxResults: 9999 });\n    if (dateEnv.timeZone !== 'local') {\n        params.timeZone = dateEnv.timeZone;\n    }\n    return params;\n}\nfunction gcalItemsToRawEventDefs(items, gcalTimezone) {\n    return items.map((item) => gcalItemToRawEventDef(item, gcalTimezone));\n}\nfunction gcalItemToRawEventDef(item, gcalTimezone) {\n    let url = item.htmlLink || null;\n    // make the URLs for each event show times in the correct timezone\n    if (url && gcalTimezone) {\n        url = injectQsComponent(url, 'ctz=' + gcalTimezone);\n    }\n    return {\n        id: item.id,\n        title: item.summary,\n        start: item.start.dateTime || item.start.date,\n        end: item.end.dateTime || item.end.date,\n        url,\n        location: item.location,\n        description: item.description,\n        attachments: item.attachments || [],\n        extendedProps: (item.extendedProperties || {}).shared || {},\n    };\n}\n// Injects a string like \"arg=value\" into the querystring of a URL\n// TODO: move to a general util file?\nfunction injectQsComponent(url, component) {\n    // inject it after the querystring but before the fragment\n    return url.replace(/(\\?.*?)?(#|$)/, (whole, qs, hash) => (qs ? qs + '&' : '?') + component + hash);\n}\n\nconst OPTION_REFINERS = {\n    googleCalendarApiKey: String,\n};\n\nconst EVENT_SOURCE_REFINERS = {\n    googleCalendarApiKey: String,\n    googleCalendarId: String,\n    googleCalendarApiBase: String,\n    extraParams: identity,\n};\n\nvar index = createPlugin({\n    name: '@fullcalendar/google-calendar',\n    eventSourceDefs: [eventSourceDef],\n    optionRefiners: OPTION_REFINERS,\n    eventSourceRefiners: EVENT_SOURCE_REFINERS,\n});\n\nexport { index as default };\n","import * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport Link from '@mui/material/Link';\nimport Typography from '@mui/material/Typography';\nimport Section from '../section';\nimport SectionTitle from '../section-title';\nimport MailIcon from '../../images/icon/contact_mail.svg';\nimport { Calendar } from '@fullcalendar/core';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport googleCalendarPlugin from '@fullcalendar/google-calendar';\n\nconst mail_address = 'addictgymjp@gmail.com';\n\nconst Head1 = props => (\n  <Typography\n    variant='h5'\n    align='center'\n    sx={{\n      py: 2,\n      fontSize: 24,\n      border: '1px solid #b28223',\n      boxSizing: 'border-box'\n    }}\n  >\n    {props.children}\n  </Typography>\n);\n\nconst Head2 = props => (\n  <Typography\n    variant='h6'\n    sx={{\n      my: 3,\n      pl: 2,\n      borderLeft: '2px solid #b28223',\n      boxSizing: 'border-box'\n    }}\n  >\n    {props.children}\n  </Typography>\n);\n\nconst SectionBooking = () => {\n  React.useEffect(() => {\n    const calendarEl = document.getElementById('google-calendar');\n\n    const calendar = new Calendar(calendarEl, {\n      plugins: [dayGridPlugin, interactionPlugin, googleCalendarPlugin],\n      googleCalendarApiKey: 'AIzaSyB_uOM4hNCR3bDBaFw4X9IkJs_7iXjhtZc',\n      events: {\n        googleCalendarId: 'addictgymjp@gmail.com',\n        color: '#b28223'\n      },\n      locale: 'en',\n      displayEventEnd: true,\n      eventTimeFormat: {\n        hour: '2-digit',\n        minute: '2-digit',\n        meridiem: false,\n        hour12: false\n      },\n      eventDidMount: e => {\n        const target = e.el;\n        target.querySelector('.fc-event-title').textContent = 'Reserved';\n      }\n    });\n\n    calendar.render();\n\n    window.addEventListener('resize', () => {\n      calendar.render();\n    });\n  });\n\n  return (\n    <Section id='booking' theme='dark'>\n      <SectionTitle theme='dark'>Booking</SectionTitle>\n\n      <Box overflow='scroll'>\n        <Box\n          overflow='visible'\n          sx={{\n            fontSize: {\n              xs: '12px',\n              md: '14px'\n            },\n            minWidth: '640px'\n          }}\n        >\n          <div id='google-calendar'></div>\n        </Box>\n      </Box>\n\n      <Grid container spacing={3}>\n        <Grid\n          item\n          xs={12}\n          md={6}\n          sx={{\n            mt: 3\n          }}\n        >\n          <Head1></Head1>\n          <Head2></Head2>\n          <Typography>\n            \n          </Typography>\n          <ul>\n            <li>\n              <Typography></Typography>\n            </li>\n            <li>\n              <Typography></Typography>\n            </li>\n            <li>\n              <Typography>Gmail </Typography>\n            </li>\n            <li>\n              <Typography>\n                <small></small>\n              </Typography>\n            </li>\n          </ul>\n          <Typography variant='body2'>\n            \n          </Typography>\n          <Typography\n            sx={{\n              mt: 2\n            }}\n          >\n            <img\n              src={MailIcon}\n              alt={mail_address}\n              width={24}\n              height={18}\n              style={{\n                marginRight: '0.5em',\n                pointerEvents: 'none',\n                verticalAlign: 'text-bottom'\n              }}\n            />\n            <Link href={`mailto:${mail_address}`} color='#fff'>\n              {mail_address}\n            </Link>\n          </Typography>\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          md={6}\n          sx={{\n            mt: 3\n          }}\n        >\n          <Head1></Head1>\n          <Head2></Head2>\n          <ol>\n            <li>\n              <Typography>\n                \n                <Link\n                  color='#fff'\n                  href='https://works.do/R/ti/p/addictgymjp@addictgym'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                >\n                  addict gym  LINE\n                </Link>{' '}\n                \n              </Typography>\n            </li>\n            <li\n              style={{\n                marginTop: '1em'\n              }}\n            >\n              <Typography>\n                \n              </Typography>\n            </li>\n            <li\n              style={{\n                marginTop: '1em'\n              }}\n            >\n              <Typography>\n                \n              </Typography>\n            </li>\n          </ol>\n          <Head2></Head2>\n          <ul>\n            <li>\n              <Typography>\n                \n              </Typography>\n            </li>\n            <li style={{ marginTop: '1em' }}>\n              <Typography>\n                \n              </Typography>\n            </li>\n            <li style={{ marginTop: '1em' }}>\n              <Typography>\n                \n              </Typography>\n            </li>\n            <li style={{ marginTop: '1em' }}>\n              <Typography>\n                \n              </Typography>\n            </li>\n          </ul>\n        </Grid>\n      </Grid>\n    </Section>\n  );\n};\n\nexport default SectionBooking;\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var f=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,h as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,s as useLayoutEffect,F as useMemo,y as useReducer,_ as useRef,p as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function R(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var I=e.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function $(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function j(n,e){var r=t($,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=\"undefined\"!=typeof document,Z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Y(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function q(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var G=e.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}e.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var X,nn={configurable:!0,get:function(){return this.class}},tn=e.vnode;e.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];H&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!Z(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&B.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l)}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=r(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==t&&null!=u.defaultValue&&(u.value=r(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(nn.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",nn))}n.$$typeof=z,tn&&tn(n)};var en=e.__r;e.__r=function(n){en&&en(n),X=n.__c};var rn={ReactCurrentDispatcher:{current:{readContext:function(n){return X.__n[n.__c].props.value}}}},un=\"17.0.2\";function on(n){return t.bind(null,n)}function ln(n){return!!n&&n.$$typeof===z}function cn(n){return ln(n)?f.apply(null,arguments):n}function fn(n){return!!n.__k&&(o(null,n),!0)}function an(n){return n&&(n.base||1===n.nodeType&&n)||null}var sn=function(n,t){return n(t)},hn=function(n,t){return n(t)},vn=u;function dn(n){n()}function pn(n){return n}function mn(){return[!1,dn]}var yn=d;function _n(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var bn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:yn,useTransition:mn,useDeferredValue:pn,useSyncExternalStore:_n,startTransition:dn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:Y,hydrate:q,unmountComponentAtNode:fn,createPortal:j,createElement:t,createContext:l,createFactory:on,cloneElement:cn,createRef:c,Fragment:u,isValidElement:ln,findDOMNode:an,Component:n,PureComponent:w,memo:R,forwardRef:k,flushSync:hn,unstable_batchedUpdates:sn,StrictMode:vn,Suspense:D,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rn};export{O as Children,w as PureComponent,vn as StrictMode,D as Suspense,V as SuspenseList,rn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cn as cloneElement,on as createFactory,j as createPortal,bn as default,an as findDOMNode,hn as flushSync,k as forwardRef,q as hydrate,ln as isValidElement,M as lazy,R as memo,Y as render,dn as startTransition,fn as unmountComponentAtNode,sn as unstable_batchedUpdates,pn as useDeferredValue,yn as useInsertionEffect,_n as useSyncExternalStore,mn as useTransition,un as version};\n//# sourceMappingURL=compat.module.js.map\n","var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function k(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||g(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||g(n,r,l[r],u[r],i)}function b(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function g(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||b(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||b(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?w:m,r):n.removeEventListener(l,r?w:m,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function m(n){t=!0;try{return this.l[n.type+!1](l.event?l.event(n):n)}finally{t=!1}}function w(n){t=!0;try{return this.l[n.type+!0](l.event?l.event(n):n)}finally{t=!1}}function x(n,l){this.props=n,this.context=l}function A(n,l){if(null==l)return n.__?A(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?A(n):null}function P(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return P(n)}}function C(n){t?setTimeout(n):f(n)}function T(n){(!n.__d&&(n.__d=!0)&&r.push(n)&&!$.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||C)($)}function $(){var n,l,u,i,t,o,f,e;for(r.sort(function(n,l){return n.__v.__b-l.__v.__b});n=r.shift();)n.__d&&(l=r.length,i=void 0,t=void 0,f=(o=(u=n).__v).__e,(e=u.__P)&&(i=[],(t=h({},o)).__v=o.__v+1,M(e,o,t,u.__n,void 0!==e.ownerSVGElement,null!=o.__h?[f]:null,i,null==f?A(o):f,o.__h),N(i,o),o.__e!=f&&P(o)),r.length>l&&r.sort(function(n,l){return n.__v.__b-l.__v.__b}));$.__r=0}function H(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,b,g,m=i&&i.__k||s,w=m.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||\"boolean\"==typeof d?null:\"string\"==typeof d||\"number\"==typeof d||\"bigint\"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=m[h])||y&&d.key==y.key&&d.type===y.type)m[h]=void 0;else for(v=0;v<w;v++){if((y=m[v])&&d.key==y.key&&d.type===y.type){m[v]=void 0;break}y=null}M(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(g||(g=[]),y.ref&&g.push(y.ref,null,d),g.push(v,d.__c||k,d)),null!=k?(null==b&&(b=k),\"function\"==typeof d.type&&d.__k===y.__k?d.__d=e=I(d,e,n):e=z(n,d,y,m,k,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=A(y))}for(u.__e=b,h=w;h--;)null!=m[h]&&(\"function\"==typeof u.type&&null!=m[h].__e&&m[h].__e==u.__d&&(u.__d=L(i).nextSibling),q(m[h],m[h]));if(g)for(h=0;h<g.length;h++)S(g[h],g[++h],g[++h])}function I(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?I(i,l,u):z(u,i,i,t,i.__e,l));return l}function j(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){j(n,l)}):l.push(n)),l}function z(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function L(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=L(u)))return i;return null}function M(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,k,b,g,m,w,A,P,C,T,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof $){if(b=u.props,g=(s=$.contextType)&&t[s.__c],m=s?g?g.props.value:s.__:t,i.__c?k=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in $&&$.prototype.render?u.__c=a=new $(b,m):(u.__c=a=new x(b,m),a.constructor=$,a.render=B),g&&g.sub(a),a.props=b,a.state||(a.state={}),a.context=m,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=$.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,$.getDerivedStateFromProps(b,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==$.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==$.getDerivedStateFromProps&&b!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(b,m),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(b,a.__s,m)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=b,a.state=a.__s,a.__d=!1),u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(b,a.__s,m),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=m,a.props=b,a.__P=n,A=l.__r,P=0,\"prototype\"in $&&$.prototype.render){for(a.state=a.__s,a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[]}else do{a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++P<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),T=null!=s&&s.type===_&&null==s.key?s.props.children:s,H(n,Array.isArray(T)?T:[T],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),k&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=O(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function N(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function O(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(k(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,H(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&A(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&g(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&g(l,\"checked\",_,y.checked,!1))}return l}function S(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function q(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||S(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&q(t[r],u,i||\"function\"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],M(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),N(f,u)}function E(n,l){D(n,l,E)}function F(l,u,i){var t,r,o,f=h({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,T(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},t=!1,x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),T(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),T(this))},x.prototype.render=_,r=[],f=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$.__r=0,e=0;export{x as Component,_ as Fragment,F as cloneElement,G as createContext,y as createElement,d as createRef,y as h,E as hydrate,i as isValidElement,l as options,D as render,j as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n"],"names":["i","globalLocales","MINIMAL_RAW_EN_LOCALE","code","week","dow","doy","direction","buttonText","prev","next","prevYear","nextYear","year","today","month","day","list","weekText","weekTextLong","closeHint","timeHint","eventHint","allDayText","moreLinkText","noEventsText","RAW_EN_LOCALE","Object","assign","buttonHints","unit","viewHint","navLinkHint","moreLinkHint","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","length","allRawLocales","concat","rawLocaleMap","en","rawLocale","map","buildLocale","inputSingular","available","Array","isArray","codeArg","codes","raw","parts","toLocaleLowerCase","split","j","simpleId","slice","join","queryRawLocale","parseLocale","queryLocale","merged","m","simpleNumberFormat","Intl","NumberFormat","options","createPlugin","input","id","g","name","premiumReleaseDate","Date","undefined","deps","reducers","isLoadingFuncs","contextInit","eventRefiners","eventDefMemberAdders","eventSourceRefiners","isDraggableTransformers","eventDragMutationMassagers","eventDefMutationAppliers","dateSelectionTransformers","datePointTransforms","dateSpanTransforms","views","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","eventSourceDefs","cmdFormatter","recurringTypes","namedTimeZonedImpl","initialView","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","listenerRefiners","optionRefiners","propSetHandlers","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","globalDefs","pluginDefs","currentPluginIds","hooks","addDefs","defs","def","pluginName","currentId","hooks1","compareOptionalDates","hooks0","console","warn","buildPluginHooks","date0","date1","Math","max","valueOf","StandardTheme","T","ensureViewDef","viewType","hash","defaultConfigs","overrideConfigs","viewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","Error","component","type","defaults","rawOptions","overrides","buildViewDef","parseViewConfigs","inputs","parseViewConfig","content","viewProps","V","context","C","elTag","elClasses","viewSpec","renderProps","nextDayThreshold","generatorName","customGenerator","classNameGenerator","classNames","didMount","willUnmount","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","compileViewDefs","durationInput","duration","durationUnit","singleUnit","singleUnitOverrides","json","JSON","stringify","res","durationInputMap","createDurationCached","denom","value","queryButtonText","optionsSubset","buttonTextMap","buttonTextKey","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","B","buttonTitleOverride","buttonHint","buttonTitleDefault","buildViewSpec","prototype","classes","root","tableCellShaded","buttonGroup","button","buttonActive","baseIconClass","iconClasses","close","rtlIconClasses","iconOverrideOption","iconOverrideCustomButtonOption","iconOverridePrefix","initEventSources","calendarOptions","dateProfile","activeRange","addSources","refiners","rawSources","eventSources","sources","initialEvents","unshift","events","rawSource","source","p","push","parseInitialSources","reduceEventSources","action","eventSourceHash","sourceId","eventSource","fetchDirtySources","fetchSourcesByIds","sourceIds","excludeStaticSources","isRefetch","sourceHash","fetchId","fetchRange","latestFetchId","isFetching","receiveResponse","computeEventSourcesLoading","doesSourceNeedRange","lazyFetching","start","end","isSourceDirty","prevSources","sourceIdHash","nextSources","fetchSource","calendarApi","sourceDef","pluginHooks","sourceDefId","fetch","range","rawEvents","eventSourceSuccess","call","response","success","dispatch","error","errorHandled","eventSourceFailure","failure","message","ignoreRange","reduceDateSelection","currentSelection","selection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","state","affectedEvents","mutatedEvents","isEvent","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","theme","viewSpecs","header","headerToolbar","parseToolbar","footer","footerToolbar","sectionStrHash","sectionWidgets","viewsWithButtons","hasTitle","sectionName","sectionRes","parseSection","widgets","sectionStr","isRtl","calendarCustomButtons","customButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonName","customButtonProps","buttonClick","buttonIcon","ev","click","target","getCustomButtonIconClass","getIconClass","text","hint","changeView","textFallback","prevOrNext","navUnit","ViewImpl","constructor","getCurrentData","dateEnv","this","calendar","title","viewTitle","activeStart","toDate","activeEnd","currentStart","currentRange","currentEnd","getOption","handleEventSources","unfoundSources","_raw","newInputs","inputFound","splice","unfoundSource","newInput","addEventSource","globalPlugins","parseMeta","refined","arg","successCallback","meta","errorCallback","func","u","bind","method","String","extraParams","startParam","endParam","timeZoneParam","url","format","toUpperCase","requestParams","customRequestParams","params","formatIso","timeZone","buildRequestParams","r","then","parse","daysOfWeek","startTime","endTime","startRecur","endRecur","recurringData","createMarker","s","allDayGuess","Boolean","typeData","expand","framingRange","clippedFramingRange","dowHash","dayMarker","endMarker","instanceStarts","instanceStart","getUTCDay","add","expandRanges","emitter","trigger","view","viewApi","eventStore","hasHandlers","TaskRunner","runTaskOption","drainedOption","queue","delayedRunner","D","drain","request","task","delay","pause","scope","resume","force","completedTasks","shift","runTask","drained","buildTitle","viewOptions","test","currentRangeUnit","formatRange","titleFormat","days","buildTitleFormat","isEndExclusive","isRangeAllDay","defaultSeparator","titleRangeSeparator","CalendarDataManager","props","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsInput","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","currentCalendarOptionsRefiners","optionsForRefining","optionsForHandling","data","optionsData","computeOptionsData","currentViewType","currentViewData","currentDataManager","setThisContext","setOptions","currentDate","dateProfileGenerator","build","calendarContext","callback","initialState","businessHours","eventUiBases","renderableEventStore","dateSelection","eventSelection","eventDrag","eventResize","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","changedOptionNames","optionName","rawOptionValue","reduceDynamicOptionOverrides","reduceViewType","currentDateProfile","dp","dateMarker","buildPrev","isValid","buildNext","reduceDateProfile","progressiveEventRendering","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","reduceEventSourcesNewTimeZone","indexOf","onData","stableOptionOverrides","stableDynamicOptionOverrides","stableCalendarOptionsData","refinedOptions","availableLocaleData","extra","processRawCalendarOptions","warnUnknownOptions","locale","weekNumberCalculation","firstDay","defaultRangeSeparator","toolbarConfig","availableRawLocales","locales","plugins","currentRaw","currentRefined","anyChanges","processRawViewOptions","dateProfileGeneratorClass","usesMinMaxTime","slotMinTime","slotMaxTime","showNonCurrentDates","dayCount","dateAlignment","dateIncrement","hiddenDays","weekends","nowInput","now","validRangeInput","validRange","visibleRangeInput","visibleRange","fixedWeekCount","explicitLocale","calendarSystem","namedTimeZoneImpl","themeSystem","ui","eventDefs","defId","display","eventDisplay","editable","startEditable","eventStartEditable","durationEditable","eventDurationEditable","constraint","eventConstraint","overlap","eventOverlap","allow","eventAllow","backgroundColor","eventBackgroundColor","borderColor","eventBorderColor","textColor","eventTextColor","color","eventColor","selectConstraint","selectOverlap","selectAllow","isLoadingFunc","viewName","ToolbarSection","render","children","widgetGroups","widgetGroup","renderWidgetGroup","className","isOnlyButtons","widget","titleId","isPressed","activeButton","isDisabled","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","getClass","disabled","onClick","groupClassName","Toolbar","startContent","endContent","model","extraClassName","forceLtr","centerContent","center","left","right","renderSection","key","ViewHarness","super","arguments","availableWidth","handleEl","el","elRef","updateAvailableWidth","handleResize","aspectRatio","liquid","height","paddingBottom","labeledById","ref","style","componentDidMount","addResizeHandler","componentWillUnmount","removeResizeHandler","setState","offsetWidth","EventClicking","settings","handleSegClick","segEl","seg","isValidSegDownEl","hasUrlContainer","querySelector","href","event","eventRange","instance","jsEvent","defaultPrevented","window","location","destroy","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewContext","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","registerInteractiveComponent","settingsInput","interactions","TheInteractionClass","uid","unregisterInteractiveComponent","listeners","listener","resizeRunner","handleWindowResize","windowResizeDelay","viewAspectRatio","toolbarProps","viewVGrow","viewHeight","isHeightAuto","forPrint","contentHeight","viewContext","renderView","buildAppendContent","CalendarInteractionClass","addEventListener","propName","componentDidUpdate","prevProps","removeEventListener","clear","interaction","transformers","transformer","transform","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","Calendar","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","renderRunner","tryDrain","handleData","currentData","rerenderDelay","handleRenderRequest","setClassNames","setHeight","wasRendering","updateSize","batchRendering","pauseRendering","resumeRendering","classList","remove","splitSegsByRow","segs","rowCnt","byRow","row","splitSegsByFirstCol","colCnt","byCol","firstCol","splitInteractionByRow","affectedInstances","DEFAULT_TABLE_EVENT_TIME_FORMAT","hour","minute","omitZeroMinute","meridiem","hasListItemDisplay","allDay","lastCol","isStart","isEnd","TableBlockEvent","defaultTimeFormat","defaultDisplayEventEnd","disableResizing","TableListItemEvent","timeFormat","eventTimeFormat","timeText","elAttrs","defaultGenerator","renderInnerContent","isResizing","isDateSelecting","TableCellMoreLink","compileSegs","allSegs","invisibleSegs","singlePlacements","todayRange","allDayDate","moreCnt","hiddenSegs","alignmentElRef","alignGridTop","extraDateSpan","popoverContent","isForcedInvisible","instanceId","visibility","isDragging","isSelected","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","rootElRef","dayNumberId","handleRootEl","date","isMonthStart","showDayNumber","currentEndIncl","currentFirstYear","getYear","currentFirstMonth","getMonth","currentLastYear","currentLastMonth","getDay","shouldDisplayMonthStart","extraClassNames","extraDataAttrs","role","renderTopInner","extraRenderProps","InnerContent","innerElRef","minHeight","showWeekNumber","defaultFormat","forceDayTop","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","dayNumberText","computeFgSegPlacement","dayMaxEvents","dayMaxEventRows","strictOrder","eventInstanceHeights","maxContentHeight","cells","hierarchy","DayGridSegHierarchy","allowReslicing","maxCoord","hiddenConsumes","maxStackCnt","segInputs","unknownHeightSegs","eventHeight","index","thickness","span","hiddenEntries","addSegs","segRects","toRects","singleColPlacements","multiColPlacements","leftoverMargins","allRects","rectsByEachCol","rects","col","rect","groupRectsByEachCol","currentHeight","currentMarginTop","resliceSeg","isAbsolute","absoluteTop","levelCoord","multiPlacements","isFirstCol","placeRects","moreCnts","moreMarginTops","hiddenEntry","hiddenSpan","spanStart","spanEnd","origRange","slicedRange","forceHidden","entriesByLevel","excludeHidden","entry","level","filter","handleInvalidInsertion","insertion","touchingEntry","touchingLevel","touchingLateral","touchingEntryId","placeholderEntry","splitEntry","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","isForced","updateSizing","businessHoursByCol","businessHourSegs","bgEventSegsByCol","bgEventSegs","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","fgEventSegs","eventOrder","eventOrderStrict","renderIntro","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","mirrorSegs","colPlacements","topsByInstanceId","placements","buildAbsoluteTopHash","buildMirrorPlacements","createRef","showDayNumbers","showWeekNumbers","renderFillSegs","cellMinHeight","prevState","currentProps","dateSelectionSegs","segPlacements","isMirror","nodes","lefts","rights","top","fillType","leftRightCss","isExternalSizingChange","clientWidth","frameEls","currentMap","originEl","current","newPositionCache","similarTo","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","safeSetState","computeMaxContentHeight","segElMap","round","getBoundingClientRect","firstKey","cellEl","fcContainerEl","bottom","getCellEls","elMap","addStateEquality","TableRows","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","splitEventDrag","splitEventResize","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","nowDate","toISOString","renderRowIntro","isSegAllDay","clientHeight","firstCellEl","rootEl","closest","isHitComboAllowed","prepareHits","rowPositions","collect","rowObj","colPositions","queryHit","positionLeft","positionTop","leftToIndex","topToIndex","dateSpan","getCellRange","dayEl","getCellEl","tops","bottoms","layer","Table","needsScrollReset","expandRows","limitViaBalanced","width","minWidth","tableMinWidth","colGroupNode","requestScrollReset","flushScrollReset","subjectEl","containerEl","match","getScrollSubjectEl","scrollEl","scrollTop","DayTableSlicer","forceDayIfListItem","sliceRange","dateRange","dayTableModel","DayTable","slicer","tableRef","sliceProps","headerAlignElRef","TableDateProfileGenerator","buildRenderRange","renderRange","endOfWeek","snapToWeek","startOfWeek","lastMonthRenderStart","startOfMonth","ceil","buildDayTableRenderRange","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","sections","stickyHeaderDates","isSticky","chunk","tableClassName","rowContent","collapsibleWidth","cols","renderHScrollLayout","dayMinWidth","ScrollGrid","stickyFooterScrollbar","chunks","colGroups","buildDayTableModel","daySeries","dayGrid","headerContent","dayHeaders","dates","headerDates","datesRepDistinctDays","contentArg","tableColGroupNode","weekNumbers","dayGridDay","dayGridWeek","weeks","dayGridMonth","months","dayGridYear","years","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","selector","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","ctrlKey","isPrimaryMouseButton","tryStart","pev","createEventFromMouse","initScrollWatch","document","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","setTimeout","handleScroll","pageX","pageXOffset","prevScrollX","prevPageX","pageY","pageYOffset","prevScrollY","prevPageY","origEvent","isTouch","deltaX","origPageX","deltaY","origPageY","passive","onWindowTouchMove","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","preventDefault","ElementMirror","sourceEl","mirrorEl","sourceElRect","parentNode","body","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","bool","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","position","boxSizing","margin","appendChild","ScrollGeomCache","scrollController","doesListening","getScrollTop","scrollLeft","getScrollLeft","handleScrollChange","origScrollTop","origScrollLeft","scrollWidth","getScrollWidth","scrollHeight","getScrollHeight","getClientWidth","getClientHeight","clientRect","computeClientRect","getEventTarget","setScrollTop","min","getMaxScrollTop","setScrollLeft","getMaxScrollLeft","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","seconds","invDistance","distance","velocity","sign","bestSide","leftDist","rightDist","topDist","bottomDist","canScrollUp","canScrollDown","canScrollLeft","canScrollRight","queryScrollEls","els","query","getRootNode","querySelectorAll","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","clearTimeout","on","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","OffsetTracker","origRect","computeLeft","computeTop","isWithinClipping","point","isIgnoredClipping","node","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","HTMLElement","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","dateStr","omitTime","DateClicking","isValidDateDownEl","hitDragging","DateSelecting","dragSelection","canSelect","selectable","selectLongPressDelay","longPressDelay","getComponentTouchDelay$1","unselect","handleHitUpdate","isFinal","isInvalid","dateSpan0","dateSpan1","ms","sort","joinHitsIntoSelection","selectMinDistance","dragScroll","EventDragging","subjectSeg","relevantEvents","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","eventDragMinDistance","eventLongPressDelay","getComponentTouchDelay","fixedMirrorParent","dragRevertDuration","contains","mutation","receivingOptions","droppable","massagers","standardProps","hasEnd","allDayMaintainDuration","delta","largeUnit","milliseconds","datesDelta","massager","computeEventMutation","displayDrag","eventDef","eventInstance","eventApi","clearDrag","updatedEventApi","instances","eventChangeArg","oldEvent","relatedEvents","revert","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","useEventCenter","nextContext","prevContext","initialCalendar","EventResizing","draggingSegEl","draggingSeg","querySegEl","isFromStart","instanceRange","startDelta","endDelta","computeMutation","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","unselectCancel","onDocumentPointerUp","documentPointer","calendarState","unselectAuto","off","API_BASE","googleCalendarId","exec","decodeURIComponent","parseGoogleCalendarId","googleCalendarApiKey","googleCalendarApiBase","apiKey","apiBase","encodeURIComponent","buildUrl","extraParamsObj","startStr","endStr","canComputeOffset","timeMin","timeMax","singleEvents","maxResults","items","gcalTimezone","item","htmlLink","replace","whole","qs","injectQsComponent","summary","dateTime","description","attachments","extendedProps","extendedProperties","shared","gcalItemToRawEventDef","mail_address","Head1","Typography","variant","align","sx","py","fontSize","border","Head2","my","pl","borderLeft","React","calendarEl","getElementById","dayGridPlugin","interactionPlugin","googleCalendarPlugin","displayEventEnd","hour12","eventDidMount","e","textContent","Box","overflow","xs","md","Grid","container","spacing","mt","src","MailIcon","alt","marginRight","pointerEvents","verticalAlign","Link","rel","f","c","a","v","l","b","t","__P","__H","__h","forEach","k","w","__v","n","__c","__","__N","__V","o","some","cancelAnimationFrame","isPureReactComponent","shouldComponentUpdate","__f","Symbol","for","__e","__k","I","L","U","insertBefore","__d","__u","__b","__a","__R","__O","pop","forceUpdate","createElement","fallback","W","delete","revealOrder","size","getChildContext","$","nodeType","childNodes","removeChild","containerInfo","get","Map","reverse","set","H","Z","defineProperty","configurable","writable","G","J","K","cancelBubble","Q","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","nn","class","tn","toLowerCase","multiple","selected","defaultValue","enumerable","$$typeof","h","y","defaultProps","vnode","d","_","setProperty","cssText","removeAttribute","setAttribute","x","A","P","base","__r","debounceRendering","M","__n","ownerSVGElement","N","z","nextSibling","q","S","contextType","__E","sub","_sb","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","O","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","unmount","firstChild","E","F","Consumer","Provider","getDerivedStateFromError","componentDidCatch","Promise","resolve"],"sourceRoot":""}